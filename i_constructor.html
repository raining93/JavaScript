<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style type="text/css">
        .note{
            border: 1px solid;
            min-height:300px;
        }
    </style>
    <script>
        let $ = function(cssSelect, message){
            let htmlElement = document.querySelectorAll(cssSelect);

            if(message){
            htmlElement.forEach(e=>{e.innerHTML += message + '<br>'});
        }

        if(htmlElement.length==1) return htmlElement[0];
        return htmlElement;
    }
          
    </script>
</head>
<body>
    <h1>생성자</h1>
    <pre>
        * 생성자 함수는 그냥 함수이다.
        * 함수를 호출할 때, new 연산자를 사용해 호출하면 생성자 함수로 동작한다.
        * 생성자 함수로 만든 함수는, 일반 함수 용도로는 사용하지 않는다.
        * 생성자 함수임을 표시하기 위해 함수의 첫 글자를 대문자로 한다. 
    </pre>
    <div class="note" id="constructorNote"></div>
    <script>

        // Student 생성자 함수를 만들어보자.
        function Student(academy, name, kor, eng, math){

            this.academy= academy;
            this.name=name;
            this.kor=kor;
            this.eng=eng;
            this.math=math;
            
            this.getTotalScore=function(){
                return this.kor + this.eng + this.math;
            }
            
            // object 객체의 toString 메서드를 오버라이드
            this.toString = function(){
                return `academy : ${this.academy}, name : ${name}, 총점 : ${this.getTotalScore()}`
            }
        }
        
        // new 생성자함수()를 했을 때 생기는 일
        // 1. 빈 객체를 생성해 heap 영역에 올리고 , 빈 객체의 주소를 생성자 함수내의 this에 바인딩
        // 2. 생성자 함수 안에서, this에 바인딩 된 객체에 속성을 추가
        // 3. 속성 추가가 끝나면 this를 return
        let sb = new Student('mc','신비',100,100,100);
        console.dir(sb)
        $('#constructorNote',sb);
        </script>
    
</body>
</html>